# HPC in Python

This repository contains examples of high performance computing techniques in
Python.

In the Jupyter notebook file [HPC.ipynb](HPC.ipynb) an example calculating the
potential field created by charged particles is used.
The example is implemented, and benchmarked, using several tools:

- Pure Python
- Numpy
- Numba
- Cython
- C++ with pybind11
  - with multithreading using OpenMP
- PyOpenCL
  - with use of GPU
- PyCuda
- MPI

## Setup Instructions

Install the `potential` package using pip.
I'd recommend creating a virtual environment first.

```shell
>> git clone https://github.com/hsaunders1904/PyHPC
>> pip install ./PyHPC
```

You can then use the `calculate_grid` function to calculate the electric
potential generated by the given particles.
You can use any of the tools described above to do that.

```python
from pyhpc.plotting import plot_potential_grid
from pyhpc.potential import calculate_grid
from pyhpc.utils import gen_particles, gen_charges

num_particles = 150
particle_coords = gen_particles(num_particles, dist="random")
charges = gen_charges(num_particles)
grid_resolution = 1024

potential_grid = calculate_grid(
   particle_coords, grid_resolution, charges, func="cython"
)
plot_potential_grid(potential_grid)
```

![img](resources/readme_sample_grid.png)

You can also run the MPI implementation from the command line:

```shell
>> mpiexec -n 4 python -m pyhpc.mpi 150 1024 --dist random --func cython
```
